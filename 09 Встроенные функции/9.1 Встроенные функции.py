# 9.1 –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
""""""


"""   *   *   *   Task   *   *   *   """


#  9.1-1
"""
–í—ã–≤–µ—Å—Ç–∏ –≤—Å–µ —Å—Ç—Ä–æ—á–Ω—ã–µ –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã –æ—Ç a –¥–æ z, –∫–∞–∂–¥—É—é –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ.
"""
from string import ascii_lowercase as st

[print(el) for el in st]


#  9.1-2
"""
–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é convert(), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç:
number ‚Äî —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ
–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–æ—Ä—Ç–µ–∂ –∏–∑ —Ç—Ä–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:
–¥–≤–æ–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —á–∏—Å–ª–∞ number –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏ –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ 0b
–≤–æ—Å—å–º–µ—Ä–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —á–∏—Å–ª–∞ number –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏ –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ 0o
—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —á–∏—Å–ª–∞ number –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏ –≤ –≤–µ—Ä—Ö–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ 0x
"""
def convert(num):
    return f'{num:b}', f'{num:o}', f'{num:X}'
    # return bin(num).replace('0b', ''), oct(num).replace('0o', ''), hex(num).replace('0x', '').upper()

print(convert(15))  # ('1111', '17', 'F')
print(convert(-24))  # ('1111', '17', 'F')


#  9.1-3
"""
https://stepik.org/lesson/640035/step/8?unit=636555
–í—ã–≤–µ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ —Å –Ω–∞–∏–º–µ–Ω—å—à–µ–π —Å—Ä–µ–¥–Ω–µ–π –æ—Ü–µ–Ω–∫–æ–π.
"""
films = {'Spider-Man: No Way Home': {'imdb': 8.8, 'kinopoisk': 8.3},
         'Don"t Look Up': {'imdb': 7.3, 'kinopoisk': 7.6},
         'Encanto': {'imdb': 7.3, 'kinopoisk': 7.4},
         'The Witcher': {'imdb': 8.2, 'kinopoisk': 7.3},
         'Ghostbusters: Afterlife': {'imdb': 7.3, 'kinopoisk': 8},
         'Harry Potter 20th Anniversary: Return to Hogwarts': {'imdb': 8.1, 'kinopoisk': 8.2},
         'Shingeki no Kyojin': {'imdb': 9.0, 'kinopoisk': 8.3},
         'The Matrix': {'imdb': 8.7, 'kinopoisk': 8.5},
         'The Dark Knight': {'imdb': 9.0, 'kinopoisk': 8.5},
         'The Shawshank Redemption': {'imdb': 9.3, 'kinopoisk': 9.1},
         'Avengers: Endgame': {'imdb': 8.4, 'kinopoisk': 7.7}}

# –•–æ—Ä–æ—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ
res = min(films, key=lambda x: sum(films[x].values()) / 2)
print(res)

# –í–∞—Ä–∏–∞–Ω—Ç
res = [(k, sum(v.values()) / 2) for k, v in films.items()]
res.sort(key=lambda x: x[1])
print(res[0][0])

# –ö–æ—Ä–æ—á–µ
res = [(k, sum(v.values()) / 2) for k, v in films.items()]
res = min(res, key=lambda x: x[1])
print(res[0])


#  9.1-4
"""
non_negative_even()
–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å True, 
–µ—Å–ª–∏ –≤—Å–µ —á–∏—Å–ª–∞ –≤ —Å–ø–∏—Å–∫–µ numbers —è–≤–ª—è—é—Ç—Å—è —á–µ—Ç–Ω—ã–º–∏ –∏ –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏, 
–∏–ª–∏ False –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ.
Input:  print(non_negative_even([0, 2, 4, 8, 16]))
Output: True
"""
def non_negative_even(num: list):
    return all(not el % 2 and el >= 0 for el in num)

print(non_negative_even([0, 2, 4, 8, 16]))  # True
print(non_negative_even([-8, -4, -2, 0, 2, 4, 8]))  # False


#  9.1-5
"""
–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é is_greater(), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:
lists ‚Äî —Å–ø–∏—Å–æ–∫, —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ —è–≤–ª—è—é—Ç—Å—è —Å–ø–∏—Å–∫–∏ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª
number ‚Äî —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ
–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å True, 
–µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –≤ –æ–¥–Ω–æ–º –≤–ª–æ–∂–µ–Ω–Ω–æ–º —Å–ø–∏—Å–∫–µ –∏–∑ —Å–ø–∏—Å–∫–∞ lists —Å—É–º–º–∞ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±–æ–ª—å—à–µ number, 
–∏–ª–∏ False –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ.
Input:  data = [[-3, 4, 0, 1], [1, 1, -4], [0, 0], [9, 3]]
        print(is_greater(data, 10))
Output: True
"""
def is_greater(lists: list, num):
    res = any(sum(el) > num for el in lists)
    return res

# data = [[-3, 4, 0, 1], [1, 1, -4], [0, 0], [9, 3]]
# print(is_greater(data, 10))


#  9.1-6
"""
–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é custom_isinstance(), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:

objects ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
typeinfo ‚Äî —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –∫–æ—Ä—Ç–µ–∂ —Å —Ç–∏–ø–∞–º–∏
–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–∑ —Å–ø–∏—Å–∫–∞ objects, 
–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —Ç–∏–ø—É typeinfo –∏–ª–∏ –æ–¥–Ω–æ–º—É –∏–∑ —Ç–∏–ø–æ–≤, –µ—Å–ª–∏ –±—ã–ª –ø–µ—Ä–µ–¥–∞–Ω –∫–æ—Ä—Ç–µ–∂.
Input:  numbers = [1, 'two', 3.0, '—á–µ—Ç—ã—Ä–µ', 5, 6.0]
        print(custom_isinstance(numbers, int))
Output: 2
"""
def custom_isinstance(objects: list, typeinfo):
    res = sum(isinstance(el, typeinfo) for el in objects)
    return res

# numbers = [1, 'two', 3.0, '—á–µ—Ç—ã—Ä–µ', 5, 6.0]
# print(custom_isinstance(numbers, (int, float)))


#  9.1-7
"""
–í—ã–≤–µ—Å—Ç–∏ –∏–Ω–¥–µ–∫—Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ —Å–ø–∏—Å–∫–µ.
"""
numbers = [-7724, 5023, 3197, -102, -4129, -880, 5857, -2866, -8913, 1195, 9809, 5347, -8071, 903, 3030, -4347, -3354,
           1024, 8670, 4210, -5228, 8900, 4823, -2002, 4900, 9520, -3658, 1104, -9554, 3064, 9632, -8701, 3384, 4370,
           2034, 7822, -9694, 3347, 7440, -8459, 3238, -5193, -3381, 5281, 9022, 5559, 7593, -6540, -6204, -2483, 8729,
           5810, -8254, -9846, -1801, 4882, 3838, -3140, 7609, -3325, 6026, 2994, -1677, 1266, -1893, -4408, -5722,
           -2841, 9812, 5837, -7474, 4624, -664, 6998, 7888, -971, 8810, 3812, -5396, 2593, 512, -4634, 9735, -3062,
           9031, -9300, 3657, 6332, 7552, 8125, -725, 4392, 1727, 8194, -2828, -4314, -8967, -7912, -1363, -5957]

print(numbers.index(max(numbers)))

print(max(enumerate(numbers), key=lambda el: el[1])[0])

# –ü—Ä–∏–º–∏—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
idx, num = 0, numbers[0]
for el in numbers[1:]:
    if el > num:
        num = el
        idx = numbers.index(el)
print(idx)


#  9.1-8
"""
–§—É–Ω–∫—Ü–∏—è my_pow()
https://stepik.org/lesson/640035/step/13?unit=636555
–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—É–º–º—É, 
—Å–æ—Å—Ç–æ—è—â—É—é –∏–∑ —Ü–∏—Ñ—Ä —á–∏—Å–ª–∞, –≤–æ–∑–≤–µ–¥–µ–Ω–Ω—ã—Ö –≤ —Å—Ç–µ–ø–µ–Ω—å –∏—Ö –ø–æ—Ä—è–¥–∫–æ–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞.
139 -> 1^1 + 3^2 + 9^3 = 1 + 9 + 729 = 739
"""
def my_pow(num):
    return sum(pow(int(v), k) for k, v in enumerate(str(num), 1))

# print(my_pow(139))


#  9.1-9
"""
https://stepik.org/lesson/640035/step/14?unit=636555
–î–æ–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥, —á—Ç–æ–±—ã –æ–Ω –æ–ø—Ä–µ–¥–µ–ª–∏–ª, –∫–∞–∫—É—é –ø—Ä–∏–±—ã–ª—å –ø—Ä–∏–Ω–µ—Å –∫–∞–∂–¥—ã–π –º—É–ª—å—Ç—Ñ–∏–ª—å–º, 
–∏ –≤—ã–≤–µ–ª –Ω–∞–∑–≤–∞–Ω–∏—è –º—É–ª—å—Ç—Ñ–∏–ª—å–º–æ–≤, —É–∫–∞–∑–∞–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ø—Ä–∏–±—ã–ª—å. 
–ú—É–ª—å—Ç—Ñ–∏–ª—å–º—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –ª–µ–∫—Å–∏–∫–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ.
Cars: 342216280$
Coco: 627082196$
Finding Nemo: 846335536$
...
"""
names = ['Moana', 'Cars', 'Zootopia', 'Ratatouille', 'Coco', 'Inside Out', 'Finding Nemo', 'Frozen']
budgets = [150000000, 120000000, 150000000, 150000000, 180000000, 175000000, 94000000, 150000000]
box_offices = [643331111, 462216280, 1023784195, 620702951, 807082196, 857611174, 940335536, 1280802282]

res = [(a, b - c) for a, b, c in zip(names, box_offices, budgets)]
# res = [(v, box_offices[k] - budgets[k]) for k, v in enumerate(names)]

for el in sorted(res):
    print(f'{el[0]}: {el[1]}$')

# –í–∞—Ä–∏–∞–Ω—Ç
[print(f'{a}: {c - b}$') for a, b, c in sorted(zip(names, budgets, box_offices))]


#  9.1-10
"""
–§—É–Ω–∫—Ü–∏—è zip_longest()
https://stepik.org/lesson/640035/step/15?unit=636555

Input:  zip_longest([1, 2, 3, 4, 5], ['a', 'b', 'c'], fill='_')
Output: [(1, 'a'), (2, 'b'), (3, 'c'), (4, '_'), (5, '_')]
"""
def zip_longest(*ls: list, fill=None):
    res = []
    idx = max(map(len, [*ls]))

    for col in range(idx):
        el = []
        for row in ls:
            if len(row) > col:
                el += [row[col]]
            else:
                el += [fill]
        res += [tuple(el)]
    return res


# –ö–æ—Ä–æ—á–µ
def zip_longest(*ls: list, fill=None):
    idx = max(map(len, [*ls]))
    for el in ls:
        el += [fill] * (idx - len(el))
    return list(zip(*ls))


# print(zip_longest([1, 2, 3, 4, 5], ['a', 'b', 'c'], fill='_'))
# [(1, 'a'), (2, 'b'), (3, 'c'), (4, '_'), (5, '_')]


#  9.1-11
"""
–ù–µ–æ–±—ã—á–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ üå∂Ô∏è
https://stepik.org/lesson/640035/step/16?unit=636555
–î–∞–Ω–∞ —Å—Ç—Ä–æ–∫–∞, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã. 
–û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏–º–≤–æ–ª—ã –≤ —Å—Ç—Ä–æ–∫–µ —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∞–≤–∏–ª–∞–º:

- –≤—Å–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã —Å—Ç–æ—è—Ç –ø–µ—Ä–µ–¥ –∑–∞–≥–ª–∞–≤–Ω—ã–º–∏ –±—É–∫–≤–∞–º–∏
- –≤—Å–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã —Å—Ç–æ—è—Ç –ø–µ—Ä–µ–¥ —Ü–∏—Ñ—Ä–∞–º–∏
- –≤—Å–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–µ—á–µ—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã —Å—Ç–æ—è—Ç –ø–µ—Ä–µ–¥ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —á–µ—Ç–Ω—ã–º–∏

Input:  Sorting1234
Output: ginortS1324
"""

st = input()

low = list(sorted(filter(lambda x: x.islower(), st)))
up = list(sorted(filter(lambda x: x.isupper(), st)))
num = list(sorted(filter(lambda x: x.isnumeric(), st), key=lambda x: (not int(x) % 2, x)))
res = ''.join(low + up + num)

print(res)


# –í–∞—Ä–∏–∞–Ω—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
def get_key(char):
    if char.isalpha():
        return 0, char.isupper(), char
    digit = int(char)
    return 1, digit % 2 == 0, digit

st = input()
print(''.join(sorted(st, key=get_key)))
