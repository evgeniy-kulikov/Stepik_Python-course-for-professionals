#  10.11 –ú–æ–¥—É–ª—å itertools
""""""


"""   *   *   *   Task   *   *   *   """


#  10.11-1
"""
–¥–æ—Å—Ç—É–ø–µ–Ω –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –∫–æ—Ä—Ç–µ–∂ Person, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ —á–µ–ª–æ–≤–µ–∫–µ. 
–ü–µ—Ä–≤—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ—Ä—Ç–µ–∂–∞ —è–≤–ª—è–µ—Ç—Å—è –∏–º—è —á–µ–ª–æ–≤–µ–∫–∞, –≤—Ç–æ—Ä—ã–º ‚Äî –≤–æ–∑—Ä–∞—Å—Ç, —Ç—Ä–µ—Ç—å–∏–º ‚Äî —Ä–æ—Å—Ç. 
–¢–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω —Å–ø–∏—Å–æ–∫ persons, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —ç—Ç–∏ –∫–æ—Ä—Ç–µ–∂–∏.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥, —á—Ç–æ–±—ã –æ–Ω —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–ª –ª—é–¥–µ–π –∏–∑ –¥–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–æ –∏—Ö —Ä–æ—Å—Ç—É 
–∏ –≤—ã–≤–µ–ª –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã. 
–î–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã —Å–Ω–∞—á–∞–ª–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω —Ä–æ—Å—Ç, –∞ –∑–∞—Ç–µ–º —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –∏–º–µ–Ω–∞ –ª—é–¥–µ–π, 
–∏–º–µ—é—â–∏—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–æ—Å—Ç. 
–ì—Ä—É–ø–ø—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –ø–æ—Ä—è–¥–∫–µ —É–≤–µ–ª–∏—á–µ–Ω–∏—è —Ä–æ—Å—Ç–∞, –∫–∞–∂–¥–∞—è –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ, 
–∏–º–µ–Ω–∞ –≤ –≥—Ä—É–ø–ø–∞—Ö ‚Äî –≤ –∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:
<—Ä–æ—Å—Ç>: <–∏–º—è>, <–∏–º—è>, ...
"""
from collections import namedtuple
from itertools import groupby

Person = namedtuple('Person', ['name', 'age', 'height'])

persons = [Person('Tim', 63, 193), Person('Eva', 47, 158),
           Person('Mark', 71, 172), Person('Alex', 45, 193),
           Person('Jeff', 63, 193), Person('Ryan', 41, 184),
           Person('Ariana', 28, 158), Person('Liam', 69, 193)]


persons.sort(key=lambda x: x.height)
data = groupby(persons, key=lambda y: y.height)
for key, val in data:
    names = sorted(el.name for el in val)
    print(f"{key}: {', '.join(names)}")


# –í–∞—Ä–∏–∞–Ω—Ç
res = groupby(sorted(persons, key=lambda x: x.height), key=lambda y: y.height)
for key, val in res:
    print(f'{key}: {", ".join(sorted(el.name for el in val))}')

# 158: Ariana, Eva
# 172: Mark
# 184: Ryan
# 193: Alex, Jeff, Liam, Tim


#  10.11-2
"""
–î–æ—Å—Ç—É–ø–µ–Ω –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –∫–æ—Ä—Ç–µ–∂ Student, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ–± —É—á–µ–Ω–∏–∫–µ. 
–ü–µ—Ä–≤—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ—Ä—Ç–µ–∂–∞ —è–≤–ª—è–µ—Ç—Å—è —Ñ–∞–º–∏–ª–∏—è —É—á–µ–Ω–∏–∫–∞, –≤—Ç–æ—Ä—ã–º ‚Äî –∏–º—è, —Ç—Ä–µ—Ç—å–∏–º ‚Äî –∫–ª–∞—Å—Å. 
–¢–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω —Å–ø–∏—Å–æ–∫ students, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —ç—Ç–∏ –∫–æ—Ä—Ç–µ–∂–∏.
–î–æ–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥, —á—Ç–æ–±—ã –æ–Ω –≤—ã–≤–µ–ª –Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞–µ–º–æ–µ –∏–º—è —Å—Ä–µ–¥–∏ —É—á–µ–Ω–∏–∫–æ–≤ –∏–∑ –¥–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞.
–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –∏—Å–∫–æ–º–æ–µ –∏–º—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ.
"""
from collections import namedtuple
from itertools import groupby

Student = namedtuple('Student', ['surname', 'name', 'grade'])

students = [Student('–ì–∞–≥–∏–µ–≤', '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä', 10), Student('–î–µ–¥–µ–≥–∫–∞–µ–≤', '–ò–ª—å—è', 11), Student('–ö–æ–¥–∑–∞–µ–≤', '–ì–µ–æ—Ä–≥–∏–π', 10),
            Student('–ù–∞–±–æ–∫–æ–≤–∞', '–ê–ª–∏—Å–∞', 11), Student('–ö–æ—Ä–∞–µ–≤', '–ê—Ä—Ç—É—Ä', 10), Student('–®–∏–ª–∏–Ω', '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä', 11),
            Student('–£—Ä—Ç–∞–µ–≤–∞', '–ò–ª–∏–Ω–∞', 11), Student('–°–∞–ª–±–∏–µ–≤', '–ú–∞–∫—Å–∏–º', 10), Student('–ö–∞–ø—É—Å—Ç–∏–Ω', '–ò–ª—å—è', 11),
            Student('–ì—É–¥—Ü–µ–≤', '–¢–∞–π–º—É—Ä–∞–∑', 11), Student('–ü–µ—Ä—á–∏–∫–æ–≤', '–ú–∞–∫—Å–∏–º', 10), Student('–ß–µ–Ω', '–ò–ª—å—è', 11),
            Student('–ï–ª—å–∫–∏–Ω–∞', '–ú–∞—Ä–∏—è', 11),Student('–ú–∞–∫–æ–µ–≤', '–†—É—Å–ª–∞–Ω', 11), Student('–ê–ª–±–µ–≥–æ–≤', '–•–µ—Ç–∞–≥', 11),
            Student('–©–µ—Ä–±–∞–∫', '–ò–ª—å—è', 10), Student('–ò–¥—Ä–∏—Å–æ–≤', '–ë–∞–≥—Ä–∞—Ç', 11), Student('–ì–∞–ø–±–∞–µ–≤', '–ì–µ—Ä–º–∞–Ω', 10),
            Student('–¶–∏–≤–∏–Ω—Å–∫–∞—è', '–ê–Ω–Ω–∞', 10), Student('–¢—É—Ç–∫–µ–≤–∏—á', '–Æ—Ä–∏–π', 11), Student('–ú—É—Å–∏–∫–æ–≤', '–ê–Ω–¥—Ä–∞–Ω–∏–∫', 11),
            Student('–ì–∞–¥–∑–∏–µ–≤', '–ì–µ–æ—Ä–≥–∏–π', 11), Student('–ë–µ–ª–æ–≤', '–Æ—Ä–∏–π', 11), Student('–ê–∫–æ–µ–≤–∞', '–î–∏–∞–Ω–∞', 11),
            Student('–î–µ–Ω–∏—Å–æ–≤', '–ò–ª—å—è', 11), Student('–ë—É–∫—É–ª–æ–≤–∞', '–î–∏–∞–Ω–∞', 10), Student('–ê–∫–æ–µ–≤–∞', '–õ–µ—Ä–∞', 11)]


students.sort(key=lambda x: x.name)
data = groupby(students, key=lambda x: x.name)

print(max(data, key=lambda x: sum(1 for _ in x[1]))[0])
# –ò–ª—å—è


#  10.11-3
"""
–ì—Ä—É–ø–ø—ã —Å–ª–æ–≤
–ù–∞ –≤—Ö–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º–µ –ø–æ–¥–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–ª–æ–≤, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–µ–ª–æ–º. 
–ö–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ –∑–∞–ø–∏—Å–∞–Ω–æ —Å—Ç—Ä–æ—á–Ω—ã–º–∏ –ª–∞—Ç–∏–Ω—Å–∫–∏–º–∏ –±—É–∫–≤–∞–º–∏.
–°–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –≤–≤–µ–¥–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –ø–æ –∏—Ö –¥–ª–∏–Ω–µ –∏ –≤—ã–≤–µ—Å—Ç–∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã. 
–î–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–∞ –¥–ª–∏–Ω–∞, 
–∞ –∑–∞—Ç–µ–º —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã —Å–ª–æ–≤–∞, –∏–º–µ—é—â–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –¥–ª–∏–Ω—É. 
–ì—Ä—É–ø–ø—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –ø–æ—Ä—è–¥–∫–µ —É–≤–µ–ª–∏—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã, –∫–∞–∂–¥–∞—è –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ, 
—Å–ª–æ–≤–∞ –≤ –≥—Ä—É–ø–ø–∞—Ö ‚Äî –≤ –∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:
<–¥–ª–∏–Ω–∞> -> <—Å–ª–æ–≤–æ>, <—Å–ª–æ–≤–æ>, ...

Input:  hi never here my blue
Output: 2 -> hi, my
        4 -> blue, here
        5 -> never
"""
from itertools import groupby

res = groupby(sorted(input().split(), key=len), key=len)
for k, v in res:
    print(f"{k} -> {', '.join(sorted(v))}")


#  10.11-4
"""
–ù–µ—Ç –¥–µ–ª
–î–æ—Å—Ç—É–ø–µ–Ω —Å–ø–∏—Å–æ–∫ tasks. –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ—Ä—Ç–µ–∂ –∏–∑ —Ç—Ä–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤: 
–ø–µ—Ä–≤—ã–π ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–µ–ª–∞, –≤—Ç–æ—Ä–æ–π ‚Äî –¥–µ–π—Å—Ç–≤–∏–µ, —Ç—Ä–µ—Ç–∏–π ‚Äî –æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥, —á—Ç–æ–±—ã –æ–Ω –≤—ã–≤–µ–ª –≤—Å–µ –¥–µ–ª–∞ –≤ –∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ,
—É–∫–∞–∑–∞–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–±–æ—Ä —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç–∏, –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:
<–¥–µ–ª–æ>:
    1. <–¥–µ–π—Å—Ç–≤–∏–µ>
    2. <–¥–µ–π—Å—Ç–≤–∏–µ>
    ...
–ú–µ–∂–¥—É –¥–≤—É–º—è –¥–µ–ª–∞–º–∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞.

Output: –ï–ì–≠ –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞:
        1. –¥–æ–¥–µ–ª–∞—Ç—å –∫—É—Ä—Å –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º

        –ö—É—Ä—Å –ø–æ –æ–æ–ø:
            1. –æ–±—Å—É–¥–∏—Ç—å —Ç–µ–º—ã
            2. –æ–±—Å—É–¥–∏—Ç—å –∑–∞–¥–∞—á–∏

    ...
"""
from itertools import groupby

tasks = [('–û—Ç–¥—ã—Ö', '–ø–æ—Å–ø–∞—Ç—å –¥–Ω–µ–º', 3),
         ('–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã', '–æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –≤ –¥–∏—Å–∫–æ—Ä–¥–µ', 1),
         ('–ï–ì–≠ –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–¥–æ–¥–µ–ª–∞—Ç—å –∫—É—Ä—Å –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º', 1),
         ('–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã', '–æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –≤ –∫—É—Ä—Å–∞—Ö', 2),
         ('–û—Ç–¥—ã—Ö', '–ø–æ–≥—É–ª—è—Ç—å –≤–µ—á–µ—Ä–æ–º', 4),
         ('–ö—É—Ä—Å –ø–æ –æ–æ–ø', '–æ–±—Å—É–¥–∏—Ç—å —Ç–µ–º—ã', 1),
         ('–£—Ä–æ–∫ –ø–æ groupby', '–¥–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á–∏ –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ', 3),
         ('–£—Ä–æ–∫ –ø–æ groupby', '–Ω–∞–ø–∏—Å–∞—Ç—å –∫–æ–Ω—Å–ø–µ–∫—Ç', 1),
         ('–û—Ç–¥—ã—Ö', '–ø–æ–≥—É–ª—è—Ç—å –¥–Ω–µ–º', 2),
         ('–£—Ä–æ–∫ –ø–æ groupby', '–¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–¥–∞—á–∏', 2),
         ('–£–±–æ—Ä–∫–∞', '—É–±—Ä–∞—Ç—å—Å—è –≤ –≤–∞–Ω–Ω–æ–π', 2),
         ('–£–±–æ—Ä–∫–∞', '—É–±—Ä–∞—Ç—å—Å—è –≤ –∫–æ–º–Ω–∞—Ç–µ', 1),
         ('–£–±–æ—Ä–∫–∞', '—É–±—Ä–∞—Ç—å—Å—è –Ω–∞ –∫—É—Ö–Ω–µ', 3),
         ('–û—Ç–¥—ã—Ö', '–ø–æ–≥—É–ª—è—Ç—å —É—Ç—Ä–æ–º', 1),
         ('–ö—É—Ä—Å –ø–æ –æ–æ–ø', '–æ–±—Å—É–¥–∏—Ç—å –∑–∞–¥–∞—á–∏', 2)]

tasks.sort(key=lambda x: (x[0], x[2]))
data = groupby(tasks, key=lambda x: x[0])
for key, val in data:
    print(f'{key}:')
    [print(f'\t{el[2]}. {el[1]}') for el in val]
    print()

# –ö–æ—Ä–æ—á–µ
data = groupby(sorted(tasks, key=lambda x: (x[0], x[2])), key=lambda x: x[0])
for key, val in data:
    print(f'{key}:', *[f'\t{el[2]}. {el[1]}' for el in val], '', sep='\n')


#  10.11-5
"""
–§—É–Ω–∫—Ü–∏—è group_anagrams()
–ê–Ω–∞–≥—Ä–∞–º–º—ã ‚Äî —ç—Ç–æ —Å–ª–æ–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—Å—Ç–æ—è—Ç –∏–∑ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –±—É–∫–≤. –ù–∞–ø—Ä–∏–º–µ—Ä:
–∞–¥–∞–ø—Ç–µ—Ä ‚Äî –ø–µ—Ç–∞—Ä–¥–∞
–∞–∑–±—É–∫–∞ ‚Äî –±–∞–∑—É–∫–∞

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é group_anagrams(), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç:
words ‚Äî —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤
–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –∫–æ—Ä—Ç–µ–∂–∏ —Å–ª–æ–≤–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ words, —è–≤–ª—è—é—â–∏–µ—Å—è –∞–Ω–∞–≥—Ä–∞–º–º–∞–º–∏, 
–∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∫–æ—Ä—Ç–µ–∂–µ–π.
–ü–æ—Ä—è–¥–æ–∫ –∫–æ—Ä—Ç–µ–∂–µ–π –≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–º —Ñ—É–Ω–∫—Ü–∏–µ–π —Å–ø–∏—Å–∫–µ, –∞ —Ç–∞–∫–∂–µ –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —ç—Ç–∏—Ö –∫–æ—Ä—Ç–µ–∂–∞—Ö, –Ω–µ –≤–∞–∂–µ–Ω.

Input:  *
Output: *
"""
from itertools import groupby
from collections import Counter

def group_anagrams(words):
    words.sort(key=sorted)
    words = groupby(words, key=sorted)
    return [tuple(val) for _, val in words]


# –í–∞—Ä–∏–∞–Ω—Ç
def group_anagrams(words):
    words.sort(key=sorted)
    words = groupby(words, key=Counter)
    return (tuple(el[1]) for el in words)



groups = group_anagrams(['evil', 'father', 'live', 'levi', 'book', 'afther', 'boko'])
print(*groups)
# ('boko', 'book') ('evil', 'levi', 'live') ('afther', 'father')

# –ß—Ç–æ –¥–∞–µ—Ç key=sorted - –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ ['a', 'e', 'f', 'h', 'r', 't']
# return [f'{k}: {tuple(val)}' for k, val in words]
# ['a', 'e', 'f', 'h', 'r', 't']: ('father', 'afther') ['b', 'k', 'o', 'o']: ('book', 'boko')
# ['e', 'i', 'l', 'v']: ('evil', 'live', 'levi')


groups = group_anagrams(['evil', 'father', 'book', 'stepik', 'beegeek'])
print(*groups)
# ('beegeek',) ('book',) ('evil',) ('father',) ('stepik',)

groups = group_anagrams(['–∫—Ä–æ–Ω–∞', '—Å–µ—Ç–æ—á–∫–∞', '—Ç–µ—Å–∞—á–æ–∫', '–ª—É—á–∏–∫', '—Å—Ç–æ–µ—á–∫–∞', '–Ω–æ—Ä–∫–∞', '—á—É–ª–∫–∏'])
print(*groups)
# ('–∫—Ä–æ–Ω–∞', '–Ω–æ—Ä–∫–∞') ('—Å–µ—Ç–æ—á–∫–∞', '—Ç–µ—Å–∞—á–æ–∫', '—Å—Ç–æ–µ—á–∫–∞') ('–ª—É—á–∏–∫', '—á—É–ª–∫–∏')


#  10.11-6
"""
–§—É–Ω–∫—Ü–∏—è ranges() üå∂Ô∏è
–ë—É–¥–µ–º —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ü–µ–ª—ã—Ö –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª –º–æ–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –æ—Ç—Ä–µ–∑–æ–∫, 
–µ—Å–ª–∏ —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å–æ—Å–µ–¥–Ω–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —ç—Ç–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–≤–Ω–∞ –µ–¥–∏–Ω–∏—Ü–µ. 
–ù–∞–ø—Ä–∏–º–µ—Ä, —á–∏—Å–ª–∞ 3,4,5,6,7,8 –º–æ–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –æ—Ç—Ä–µ–∑–æ–∫ [3;8]. 
–ß–∏—Å–ª–∞ 1,3,5,11,15,22 –≤ –æ—Ç—Ä–µ–∑–æ–∫ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –Ω–µ–ª—å–∑—è. 
–û–¥–∏–Ω–æ—á–Ω–æ–µ —á–∏—Å–ª–æ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ –æ—Ç—Ä–µ–∑–æ–∫, –≤ –∫–æ—Ç–æ—Ä–æ–º –∏ –ø—Ä–∞–≤–æ–π, –∏ –ª–µ–≤–æ–π –≥—Ä–∞–Ω–∏—Ü–µ–π —è–≤–ª—è–µ—Ç—Å—è –æ–Ω–æ —Å–∞–º–æ. 
–ù–∞–ø—Ä–∏–º–µ—Ä, —á–∏—Å–ª–æ 1 –º–æ–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –æ—Ç—Ä–µ–∑–æ–∫ [1;1]

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é ranges(), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç:
numbers ‚Äî —Å–ø–∏—Å–æ–∫ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—è
–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å —á–∏—Å–ª–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ numbers –≤ –æ—Ç—Ä–µ–∑–∫–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—è –∏—Ö –≤ –≤–∏–¥–µ –∫–æ—Ä—Ç–µ–∂–µ–π, 
–≥–¥–µ –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –∫–æ—Ä—Ç–µ–∂–∞ —è–≤–ª—è–µ—Ç—Å—è –ª–µ–≤–æ–π –≥—Ä–∞–Ω–∏—Ü–µ–π –æ—Ç—Ä–µ–∑–∫–∞, 
–≤—Ç–æ—Ä–æ–π —ç–ª–µ–º–µ–Ω—Ç ‚Äî –ø—Ä–∞–≤–æ–π –≥—Ä–∞–Ω–∏—Ü–µ–π –æ—Ç—Ä–µ–∑–∫–∞. 
–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –∫–æ—Ä—Ç–µ–∂–∏-–æ—Ç—Ä–µ–∑–∫–∏ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞.
"""
from itertools import groupby

def ranges(numbers):
    data = groupby(numbers,  key=lambda x: x - numbers.index(x))
    res = (tuple(v) for _, v in data)
    return [(el[0], el[-1]) for el in res]


numbers = [1, 2, 3, 4, 7, 8, 10]
print(ranges(numbers))
# [(1, 4), (7, 8), (10, 10)]

numbers = [1, 3, 5, 7]
print(ranges(numbers))
# [(1, 1), (3, 3), (5, 5), (7, 7)]

numbers = [1, 2, 3, 4, 5, 6, 7]
print(ranges(numbers))
# [(1, 7)]
